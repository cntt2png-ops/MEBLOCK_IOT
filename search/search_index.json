{"config":{"lang":["vi"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"MicroPython API \u2014 ESP32/ESP32\u2011S3","text":"<p>T\u00e0i li\u1ec7u cho b\u1ed9 th\u01b0 vi\u1ec7n MEBLOCK IOT (MicroPython): MQTT, OLED (SSD1306/SH1106), DHT.</p> <pre><code>graph LR\n  A[\u1ee8ng d\u1ee5ng] --&gt;|import| B[mqtt.py]\n  A --&gt; C[oled.py]\n  A --&gt; D[aiot_dht.py]\n  B --&gt;|publish/subscribe| Broker[(MQTT Broker)]\n  C --&gt;|I2C| OLED[(SSD1306/SH1106)]\n  D --&gt;|I2C/1-wire| Sensors[(DHT20/AHT20/DHT11)]</code></pre>"},{"location":"api/aiot_dht/","title":"<code>aiot_dht</code> \u2014 DHT Sensors (DHT20/AHT20 &amp; DHT11)","text":"<p>M\u1ed9t API chung \u0111\u1ec3 \u0111\u1ecdc nhi\u1ec7t \u0111\u1ed9/\u0111\u1ed9 \u1ea9m t\u1eeb DHT20/AHT20 (I2C) v\u00e0 DHT11 (1\u2011wire).</p>"},{"location":"api/aiot_dht/#function","title":"Function","text":"<p><code>AIOT_DHT(sensor=\"dht20\"|\"aht20\"|\"dht11\", *, board=None, sda=None, scl=None, pin=None)</code> T\u1ea1o \u0111\u1ed1i t\u01b0\u1ee3ng c\u1ea3m bi\u1ebfn. I2C (DHT20/AHT20) d\u00f9ng <code>sda/scl</code> ho\u1eb7c preset <code>board</code>; DHT11 d\u00f9ng <code>pin</code>.</p> <p><code>read() -&gt; bool</code> C\u1eadp nh\u1eadt d\u1eef li\u1ec7u. Tr\u1ea3 v\u1ec1 <code>True</code> n\u1ebfu th\u00e0nh c\u00f4ng.</p> <p><code>temperature() -&gt; float</code> Nhi\u1ec7t \u0111\u1ed9 (\u00b0C).</p> <p><code>humidity() -&gt; float</code> \u0110\u1ed9 \u1ea9m (%RH).</p> <p><code>status() -&gt; dict</code> Th\u00f4ng tin g\u1ee1 l\u1ed7i (raw, l\u1ed7i g\u1ea7n nh\u1ea5t\u2026).</p>"},{"location":"api/aiot_dht/#sample-code","title":"Sample Code","text":"<pre><code>from aiot_dht import AIOT_DHT\n\nd = AIOT_DHT(sensor=\"dht20\", board=\"s3\")  # ho\u1eb7c truy\u1ec1n sda/scl\nif d.read():\n    print(\"T:\", d.temperature(), \"C  H:\", d.humidity(), \"%\")\nelse:\n    print(\"Read fail\")\n</code></pre>"},{"location":"api/mqtt/","title":"<code>mqtt</code> \u2014 MQTT Helper","text":"<p>C\u00e1c h\u00e0m ti\u1ec7n \u00edch k\u1ebft n\u1ed1i Wi\u2011Fi v\u00e0 MQTT broker.</p>"},{"location":"api/mqtt/#function","title":"Function","text":"<p><code>connect_wifi(ssid, password, timeout_s=15) -&gt; ip</code> K\u1ebft n\u1ed1i Wi\u2011Fi, tr\u1ea3 v\u1ec1 IP n\u1ebfu th\u00e0nh c\u00f4ng.</p> <p><code>connect_broker(server, port=1883, username=None, password=None, *, client_id=None, keepalive=30, use_tls=False, ssl_params=None, clean_session=True, will_topic=None, will_msg=None, will_qos=0, will_retain=False)</code> K\u1ebft n\u1ed1i t\u1edbi MQTT broker, c\u1ea5u h\u00ecnh Last Will n\u1ebfu c\u1ea7n.</p> <p><code>on_receive_message(topic, callback, *, qos=0)</code> \u0110\u0103ng k\u00fd h\u00e0m <code>callback(payload, topic)</code> cho <code>topic</code> (c\u00f3 h\u1ed7 tr\u1ee3 wildcard).</p> <p><code>check_message()</code> Non\u2011block, g\u1ecdi c\u00e1c callback khi c\u00f3 tin \u0111\u1ebfn; t\u1ef1 reconnect n\u1ebfu socket l\u1ed7i.</p> <p><code>publish(topic, payload, *, qos=0, retain=False)</code> G\u1eedi d\u1eef li\u1ec7u l\u00ean broker.</p> <p><code>disconnect()</code> Ng\u1eaft k\u1ebft n\u1ed1i.</p>"},{"location":"api/mqtt/#sample-code","title":"Sample Code","text":"<pre><code>import time\nimport mqtt\n\nmqtt.connect_wifi(\"SSID\", \"PASS\")\nmqtt.connect_broker(\"broker.hivemq.com\", 1883, client_id=\"esp32-demo\")\n\ndef on_msg(payload, topic):\n    print(\"RX:\", topic, payload)\n\nmqtt.on_receive_message(\"demo/esp32/#\", on_msg)\n\ni = 0\nwhile True:\n    mqtt.check_message()\n    mqtt.publish(\"demo/esp32/uptime\", str(i))\n    i += 1\n    time.sleep(1)\n</code></pre>"},{"location":"api/oled_i2c/","title":"<code>oled_i2c</code> \u2014 OLED I2C Module","text":"<p>Ch\u1ee9c n\u0103ng ch\u00ednh v\u00e0 ch\u1ee9c n\u0103ng c\u1ee7a oled_i2c (SSD1306/SH1106).</p>"},{"location":"api/oled_i2c/#function","title":"Function","text":"<p><code>oled = Oled(board=\"s3\", driver=\"SH1106\", sh1106_offset=2)</code> Kh\u1edfi t\u1ea1o OLED \u0111\u00e3 \u0111\u01b0\u1ee3c k\u1ebft n\u1ed1i b\u1eb1ng I2C. <code>board</code>: preset ch\u00e2n; <code>driver</code>: <code>SSD1306</code> ho\u1eb7c <code>SH1106</code>.</p> <p><code>oled.text(TEXT, X, Y)</code> Thi\u1ebft l\u1eadp n\u1ed9i dung (TEXT) l\u00ean m\u00e0n h\u00ecnh t\u1ea1i v\u1ecb tr\u00ed mong mu\u1ed1n. X: 0..127, Y: 0..63.</p> <p><code>oled.show()</code> L\u1ec7nh hi\u1ec3n th\u1ecb n\u1ed9i dung.</p> <p><code>oled.fill(0)</code> X\u00f3a n\u1ed9i dung tr\u00ean m\u00e0n h\u00ecnh (<code>1</code> = tr\u1eafng to\u00e0n m\u00e0n).</p> <p>T\u00f9y ch\u1ecdn kh\u00e1c</p> <p>D\u00f9ng factory: <pre><code>from oled import create\ndev = create(ctrl=\"SSD1306\", i2c_sda=21, i2c_scl=22, addr=0x3C, backend=\"soft\")\n</code></pre> V\u1edbi SH1106 (132 c\u1ed9t), c\u00f3 th\u1ec3 c\u1ea7n <code>sh1106_offset=2</code> \u0111\u1ec3 canh 128 c\u1ed9t v\u00e0o gi\u1eefa.</p>"},{"location":"api/oled_i2c/#sample-code","title":"Sample Code","text":"<p>Hi\u1ec3n th\u1ecb k\u00fd t\u1ef1 tr\u00ean m\u00e0n h\u00ecnh OLED:</p> <pre><code>from oled import Oled\noled = Oled(board=\"s3\", driver=\"SH1106\")  # ho\u1eb7c driver=\"SSD1306\"\n\noled.clear()\noled.text(\"MEBLOCK IOT\", 0, 0)\noled.text(\"Hello, ESP32!\", 0, 16)\noled.show()\n</code></pre>"},{"location":"guides/troubleshooting/","title":"X\u1eed l\u00fd l\u1ed7i","text":"Kh\u00f4ng th\u1ea5y ch\u1eef tr\u00ean SH1106 <p>Th\u1eed <code>sh1106_offset=2</code> khi kh\u1edfi t\u1ea1o <code>Oled(...)</code> \u0111\u1ec3 canh khung 128 c\u1ed9t v\u00e0o khu v\u1ef1c hi\u1ec3n th\u1ecb.</p> MQTT kh\u00f4ng nh\u1eadn \u0111\u01b0\u1ee3c tin <ul> <li>\u0110\u1ea3m b\u1ea3o \u0111\u00e3 g\u1ecdi <code>mqtt.check_message()</code> \u0111\u1ec1u trong v\u00f2ng l\u1eb7p ch\u00ednh.</li> <li>Ki\u1ec3m tra wildcard trong <code>on_receive_message(\"demo/esp32/#\", cb)</code>.</li> </ul> DHT20 \u0111\u1ecdc fail <ul> <li>Ki\u1ec3m tra \u0111i\u1ec7n tr\u1edf k\u00e9o\u2011l\u00ean (pull\u2011up) I2C v\u00e0 \u0111\u1ecba ch\u1ec9 <code>0x38</code>.</li> <li>D\u00e2y I2C ng\u1eafn, ngu\u1ed3n \u1ed5n \u0111\u1ecbnh.</li> </ul>"}]}