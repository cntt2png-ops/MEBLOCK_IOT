{"config":{"lang":["vi"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"1. MicroPython API","text":"<ul> <li><code>mqtt</code> \u2014 MQTT Helper</li> <li><code>oled</code> \u2014 OLED I2C Module</li> <li><code>dht</code> \u2014 DHT Sensors</li> <li><code>ultrasonic</code> \u2014 Ultrasonic Module (HC\u2011SR04)</li> </ul>"},{"location":"api/dht/","title":"<code>dht</code> \u2014 DHT Sensors","text":"<p>Ch\u1ee9c n\u0103ng ch\u00ednh v\u00e0 ch\u1ee9c n\u0103ng c\u1ee7a <code>dht</code>.</p>"},{"location":"api/dht/#function","title":"Function","text":"<p><pre><code>DHT(sensor, *, board=None, sda=None, scl=None, pin=None)</code></pre> Kh\u1edfi t\u1ea1o \u0111\u1ed1i t\u01b0\u1ee3ng \u0111i\u1ec1u khi\u1ec3n c\u1ea3m bi\u1ebfn nhi\u1ec7t \u0111\u1ed9/\u0111\u1ed9 \u1ea9m: </p> <pre><code>sensor (str): Lo\u1ea1i c\u1ea3m bi\u1ebfn\n\n    \"dht20\": Cho c\u1ea3m bi\u1ebfn DHT20/AHT20 (I2C)\n\n        board: Preset board t\u1ef1 ch\u1ecdn ch\u00e2n\n\n        sda: Ch\u00e2n SDA\n\n        scl: Ch\u00e2n SCL\n\n        addr: \u0110\u1ecba ch\u1ec9 I2C (m\u1eb7c \u0111\u1ecbnh: 0x38)\n\n    \"dht11/22\": Cho c\u1ea3m bi\u1ebfn DHT11/22 (1-wire)\n\n        pin: S\u1ed1 ch\u00e2n GPIO\n</code></pre> <p><pre><code>read() -&gt; bool</code></pre> \u0110\u1ecdc d\u1eef li\u1ec7u t\u1eeb c\u1ea3m bi\u1ebfn <code>True</code> n\u1ebfu \u0111\u1ecdc th\u00e0nh c\u00f4ng, <code>False</code> n\u1ebfu l\u1ed7i. K\u1ebft qu\u1ea3 \u0111\u01b0\u1ee3c l\u01b0u trong b\u1ed9 nh\u1edb \u0111\u1ec7m cho c\u00e1c h\u00e0m temperature()/humidity()</p> <p><pre><code>temperature() -&gt; float \u2022 humidity() -&gt; float</code></pre> \u0110\u1ecdc gi\u00e1 tr\u1ecb nhi\u1ec7t \u0111\u1ed9 (\u00b0C)</p> <pre><code>DHT20: Gi\u00e1 tr\u1ecb t\u1eeb -50\u00b0C \u0111\u1ebfn 85\u00b0C, \u0111\u1ed9 ph\u00e2n gi\u1ea3i 0.01\u00b0C\n\nDHT11: Gi\u00e1 tr\u1ecb t\u1eeb 0\u00b0C \u0111\u1ebfn 50\u00b0C, \u0111\u1ed9 ph\u00e2n gi\u1ea3i 1\u00b0C\n</code></pre> <p>T\u1ef1 \u0111\u1ed9ng g\u1ecdi read() n\u1ebfu ch\u01b0a c\u00f3 d\u1eef li\u1ec7u</p> <p><pre><code>humidity() -&gt; float</code></pre> \u0110\u1ecdc gi\u00e1 tr\u1ecb \u0111\u1ed9 \u1ea9m t\u01b0\u01a1ng \u0111\u1ed1i (%)</p> <pre><code>DHT20: Gi\u00e1 tr\u1ecb t\u1eeb 0% \u0111\u1ebfn 100%, \u0111\u1ed9 ph\u00e2n gi\u1ea3i 0.024%\n\nDHT11: Gi\u00e1 tr\u1ecb t\u1eeb 20% \u0111\u1ebfn 90%, \u0111\u1ed9 ph\u00e2n gi\u1ea3i 1%\n</code></pre> <p>T\u1ef1 \u0111\u1ed9ng g\u1ecdi read() n\u1ebfu ch\u01b0a c\u00f3 d\u1eef li\u1ec7u</p>"},{"location":"api/dht/#sample-code","title":"Sample Code","text":"<pre><code>from dht import DHT\nd = DHT(\"dht20\", board=\"s3\")\nif d.read():\n    print(d.temperature(), d.humidity())\n</code></pre>"},{"location":"api/mqtt/","title":"<code>mqtt</code> \u2014 MQTT Helper","text":"<p>Ch\u1ee9c n\u0103ng ch\u00ednh c\u1ee7a <code>mqtt</code>.</p>"},{"location":"api/mqtt/#function","title":"Function","text":"<p><pre><code>connect_wifi(ssid, password) -&gt; ip</code></pre> K\u1ebft n\u1ed1i Board MEBLOCK v\u00e0o m\u1ea1ng Wifi c\u1ee7a b\u1ea1n. Trong \u0111\u00f3:</p> <pre><code>ssid l\u00e0 t\u00ean m\u1ea1ng Wifi.\n\npassword l\u00e0 m\u1eadt kh\u1ea9u m\u1ea1ng WiFi.\n</code></pre> <p><pre><code>connect_broker(server, port=1883, client_id=None)</code></pre> K\u1ebft n\u1ed1i broker MQTT:</p> <pre><code>server l\u00e0  hostname ho\u1eb7c IP broker (b\u1eaft bu\u1ed9c).\n\nport l\u00e0 c\u1ed5ng port broker, m\u1eb7c \u0111\u1ecbnh  = 1883.\n\nusername t\u00ean user n\u1ebfu broker c\u1ea7n x\u00e1c th\u1ef1c.\n\npassword l\u00e0 m\u1eb7t kh\u1ea9u n\u1ebfu broker c\u1ea7n x\u00e1c th\u1ef1c.\n\nclient_id l\u00e0 ID client, n\u1ebfu = None th\u00ec t\u1ef1 sinh.\n\nuse_tls: True/False \u0111\u1ec3 b\u1eadt SSL/TLS (n\u1ebfu firmware v\u00e0 umqtt h\u1ed7 tr\u1ee3)\n\nssl_params tham s\u1ed1 SSL (passed to client).\n</code></pre> <p><pre><code>on_receive_message(topic, callback)</code></pre> \u0110\u0103ng k\u00fd callback x\u1eed l\u00fd message t\u1edbi topic - <code>callback(payload, topic)</code>(h\u1ed7 tr\u1ee3 wildcard).</p> <pre><code>topic: topic mu\u1ed1n subscribe (c\u00f3 th\u1ec3 ch\u1ee9a wildcard broker-side).\n\ncallback: h\u00e0m callback nh\u1eadn callback\n\n    payload: bytes, topic: str\n</code></pre> <p><pre><code>publish(topic, payload)</code></pre> G\u1eedi message t\u1edbi topic.</p> <pre><code>topic: topic \u0111\u00edch.\n\npayload: n\u1ed9i dung truy\u1ec1n.\n</code></pre> <p><pre><code>check_message()</code></pre> Nh\u1eadn tin non\u2011block v\u00e0 t\u1ef1 reconnect n\u1ebfu socket l\u1ed7i.</p> <pre><code>K\u00edch ho\u1ea1t **callback** n\u1ebfu c\u00f3 message.\n</code></pre> <p><pre><code>disconnect()</code></pre> Ng\u1eaft k\u1ebft n\u1ed1i</p> <pre><code>N\u00ean g\u1ecdi tr\u01b0\u1edbc khi t\u1eaft module hay \u0111\u1ed5i c\u1ea5u h\u00ecnh.\n</code></pre>"},{"location":"api/mqtt/#sample-code","title":"Sample Code","text":"<pre><code>import time, mqtt\n\nmqtt.connect_wifi(\"SSID\", \"PASS\")\nmqtt.connect_broker(\"broker.hivemq.com\", 1883)\n\ndef on_msg(payload, topic):\n    print(\"RX:\", topic, payload)\n\nmqtt.on_receive_message(\"demo/esp32/#\", on_msg)\n\nwhile True:\n    mqtt.check_message()\n    mqtt.publish(\"demo/esp32/ping\", \"1\")\n    time.sleep(1)\n</code></pre>"},{"location":"api/oled/","title":"<code>oled</code> \u2014 OLED I2C Module (SSD1306/SH1106)","text":"<p>Ch\u1ee9c n\u0103ng ch\u00ednh v\u00e0 ch\u1ee9c n\u0103ng c\u1ee7a <code>oled</code>.</p>"},{"location":"api/oled/#function","title":"Function","text":"<p><pre><code>Oled( board=\"s3\", width=128, height=64, driver=\"SH1106\", sda=21, scl=22, addr=0x3C)</code></pre> T\u1ea1o m\u1ed9t thi\u1ebft b\u1ecb OLED \u0111\u1ec3 s\u1eed d\u1ee5ng v\u1edbi th\u00f4ng s\u1ed1:   </p> <pre><code>board c\u00f3 \u0111\u1ecbnh ngh\u0129a s\u1eb5n ch\u00e2n, n\u1ebfu ch\u1ecdn board th\u00ec kh\u00f4ng c\u1ea7n ch\u1ecdn ch\u00e2n th\u00eam\n\nk\u00edch th\u01b0\u1edbc: width x height\n\ndriver: SH1106 ho\u1eb7c SSD1306 t\u00f9y lo\u1ea1i OLED\n\naddr: \u0111\u1ecba ch\u1ec9 ch\u1ecdn c\u1ed1 \u0111\u1ecbnh theo thi\u1ebft b\u1ecb ho\u1eb7c t\u01b0 d\u00f2 (b\u1ecf tr\u1ed1ng)\n</code></pre> <p><code>sig show()</code> \u0110\u1ea9y buffer l\u00ean m\u00e0n h\u00ecnh. </p> <pre><code>Sau c\u00e1c thao t\u00e1c v\u1ebd hay x\u1eed l\u00fd chu\u1ed7i, ph\u1ea3i g\u1ecdi show() th\u00ec m\u1edbi hi\u1ec3n th\u1ecb.\n</code></pre> <p><pre><code>clear()</code></pre> T\u00f4 to\u00e0n m\u00e0n h\u00ecnh v\u1edbi m\u00e0u c (1 = tr\u1eafng, 0 = \u0111en).</p> <p><pre><code>clear()</code></pre> X\u00f3a buffer m\u00e0n h\u00ecnh (th\u01b0\u1eddng t\u01b0\u01a1ng \u0111\u01b0\u01a1ng fill(0))</p> <p><pre><code>text(s, x, y, color)</code></pre> In ra chu\u1ed7i t\u1ea1i v\u1ecb tr\u00ed pixel th\u1ee9 (x, y), <code>color</code>: <code>0</code> = \u0111en, <code>1</code> = tr\u1eafng. <pre><code>text_wrap(s, x=0, y=0, c=1)</code></pre> In chu\u1ed7i d\u00e0i c\u00f3 t\u1ef1 ng\u1eaft d\u00f2ng theo chi\u1ec1u r\u1ed9ng m\u00e0n h\u00ecnh. <pre><code>poweron()/poweroff()</code></pre> B\u1eadt/t\u1eaft panel.</p>"},{"location":"api/oled/#sample-code","title":"Sample Code","text":"<pre><code>from oled import Oled\noled = Oled(driver=\"SH1106\")\noled.clear()\noled.text(\"Hello, ESP32!\", 0, 0)\noled.show()\n</code></pre>"},{"location":"api/ultrasonic/","title":"<code>ultrasonic</code> \u2014 Ultrasonic Module (HC\u2011SR04)","text":"<p>Ch\u1ee9c n\u0103ng ch\u00ednh v\u00e0 ch\u1ee9c n\u0103ng c\u1ee7a <code>ultrasonic</code>.</p>"},{"location":"api/ultrasonic/#function","title":"Function","text":"<p><pre><code>HCSR04(trigger_pin, echo_pin)</code></pre> Kh\u1edfi t\u1ea1o c\u1ea3m bi\u1ebfn v\u1edbi ch\u00e2n TRIG/ECHO, ho\u1eb7c truy\u1ec1n t\u00ean board c\u00f3 ch\u00e2n \u0111\u1ecbnh s\u1eb5n.</p> <pre><code>TRIG (c\u00f3 th\u1ec3 truy\u1ec1n s\u1ed1, chu\u1ed7i nh\u01b0 \"2\", \"GPIO2\", \"IO2\", \"P2\", ho\u1eb7c key t\u00ean trong pinmap nh\u01b0 \"TRIG\")\n\nECHO t\u01b0\u01a1ng t\u1ef1.\n</code></pre> <p><pre><code>distance_cm(filter=True)</code></pre> \u0110o kho\u1ea3ng c\u00e1ch v\u00e0 tr\u1ea3 v\u1ec1 gi\u00e1 tr\u1ecb (cm) d\u01b0\u1edbi d\u1ea1ng float (v\u1edbi 1 ch\u1eef s\u1ed1 th\u1eadp ph\u00e2n).</p> <pre><code>filter (bool, m\u1eb7c \u0111\u1ecbnh True): b\u1eadt/t\u1eaft b\u1ed9 l\u1ecdc nhi\u1ec5u n\u1ed9i b\u1ed9.\n</code></pre> <p><pre><code>distance_mm(filter=True)</code></pre>  Tr\u1ea3 v\u1ec1 kho\u1ea3ng c\u00e1ch theo mm (\u0111\u01a1n v\u1ecb milim\u00e9t).</p> <pre><code>filter (bool, m\u1eb7c \u0111\u1ecbnh True): b\u1eadt/t\u1eaft b\u1ed9 l\u1ecdc nhi\u1ec5u n\u1ed9i b\u1ed9.\n</code></pre> <p>G\u1ecdi distance_cm() r\u1ed3i chuy\u1ec3n sang mm (nh\u00e2n 10) v\u00e0 cast v\u1ec1 int.</p>"},{"location":"api/ultrasonic/#sample-code","title":"Sample Code","text":"<pre><code>from ultrasonic import HCSR04\nsensor = HCSR04(2, 3)\nprint(sensor.distance_cm(), \"cm\")\n</code></pre>"},{"location":"guides/troubleshooting/","title":"X\u1eed l\u00fd l\u1ed7i","text":"<ul> <li>OLED SH1106 l\u1ec7ch c\u1ed9t \u2192 d\u00f9ng <code>sh1106_offset=2</code>.</li> <li>MQTT kh\u00f4ng nh\u1eadn tin \u2192 g\u1ecdi <code>check_message()</code> \u0111\u1ec1u trong loop.</li> <li>DHT20 \u0111\u1ecdc fail \u2192 ki\u1ec3m tra d\u00e2y I2C, \u0111\u1ecba ch\u1ec9 <code>0x38</code>, ngu\u1ed3n \u1ed5n.</li> <li>HC\u2011SR04 out of range \u2192 ki\u1ec3m tra d\u00e2y, gi\u1ea3m kho\u1ea3ng c\u00e1ch.</li> </ul>"}]}